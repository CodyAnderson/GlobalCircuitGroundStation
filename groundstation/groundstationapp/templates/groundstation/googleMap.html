<html>
   <head>
      <title>Google Charts Tutorial</title>
      <script type = "text/javascript" src = "https://www.gstatic.com/charts/loader.js">
      </script>
      <script type = "text/javascript" src = "https://www.google.com/jsapi">
      </script>
      <script type = "text/javascript">
         google.charts.load('current', {'packages': ['map'], 'mapsApiKey': '{{ MAPS_API_KEY }}'});     
      </script>
   </head>
   
   <body>
      <div id = "container" style = "width: 100%; height: 100%;">
      </div>
      <script language = "JavaScript">
         function drawChart() {
            // Define the chart to be drawn.
            var data = google.visualization.arrayToDataTable([
               ['Lat', 'Long', 'Name'],
               {% for point in points %}[{{ point.0 }}, {{ point.1 }}, {{ point.2 }}],{% endfor %}
            ]);
              
            // Set chart options
            var options = {
              mapType: 'styledMap',
              zoomLevel: 12,
              showTooltip: true,
              showInfoWindow: true,
              useMapTypeControl: true,
              maps: {
                // Your custom mapTypeId holding custom map styles.
                styledMap: {
                  name: 'Styled Map', // This name will be displayed in the map type control.
                  styles: [
                    {featureType: 'poi.attraction',
                    stylers: [{color: '#fce8b2'}]
                    },
                    {featureType: 'road.highway',
                    stylers: [{hue: '#0277bd'}, {saturation: -50}]
                    },
                    {featureType: 'road.highway',
                    elementType: 'labels.icon',
                    stylers: [{hue: '#000'}, {saturation: 100}, {lightness: 50}]
                    },
                    {featureType: 'landscape',
                    stylers: [{hue: '#259b24'}, {saturation: 10}, {lightness: -22}]
                    }
              ]}}
            };				

            // Instantiate and draw the chart.
            var chart = new google.visualization.Map(document.getElementById
            ('container'));
            chart.draw(data, options);
            console.log("Going");
         }
         google.charts.setOnLoadCallback(drawChart);
      </script>
   </body>
</html>